<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: main.turret_gen_class Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME 405 Term Project<span id="projectnumber">&#160;1.3.1</span>
   </div>
   <div id="projectbrief">heat-seeking nerf turret</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classmain_1_1turret__gen__class.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classmain_1_1turret__gen__class-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">main.turret_gen_class Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class to help perform the turret process.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a491ae608e57eae4ea292fc3230cd2cbf" id="r_a491ae608e57eae4ea292fc3230cd2cbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a491ae608e57eae4ea292fc3230cd2cbf">__init__</a> (self, task_name)</td></tr>
<tr class="memdesc:a491ae608e57eae4ea292fc3230cd2cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an instance of the turret generator class.  <br /></td></tr>
<tr class="separator:a491ae608e57eae4ea292fc3230cd2cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6facbac7675db358c989152d71989cf8" id="r_a6facbac7675db358c989152d71989cf8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6facbac7675db358c989152d71989cf8">get_start_button</a> (self)</td></tr>
<tr class="memdesc:a6facbac7675db358c989152d71989cf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the active low start button object.  <br /></td></tr>
<tr class="separator:a6facbac7675db358c989152d71989cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c6e7fa3fea93927d3ed81e58673430" id="r_a09c6e7fa3fea93927d3ed81e58673430"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09c6e7fa3fea93927d3ed81e58673430">get_motor</a> (self)</td></tr>
<tr class="memdesc:a09c6e7fa3fea93927d3ed81e58673430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the motor driver object associated with this turret.  <br /></td></tr>
<tr class="separator:a09c6e7fa3fea93927d3ed81e58673430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f20a89b022d39a396d97a688aa3ebbf" id="r_a2f20a89b022d39a396d97a688aa3ebbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f20a89b022d39a396d97a688aa3ebbf">get_servo</a> (self)</td></tr>
<tr class="memdesc:a2f20a89b022d39a396d97a688aa3ebbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the servo driver object associated with this turret.  <br /></td></tr>
<tr class="separator:a2f20a89b022d39a396d97a688aa3ebbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63f6cc6fb320984b93fbe6ead1fe22c" id="r_ad63f6cc6fb320984b93fbe6ead1fe22c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad63f6cc6fb320984b93fbe6ead1fe22c">get_led</a> (self)</td></tr>
<tr class="memdesc:ad63f6cc6fb320984b93fbe6ead1fe22c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pin object used to actuate the builtin LED LD2.  <br /></td></tr>
<tr class="separator:ad63f6cc6fb320984b93fbe6ead1fe22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac109d42dbfba8efe65c3c0a30246788c" id="r_ac109d42dbfba8efe65c3c0a30246788c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac109d42dbfba8efe65c3c0a30246788c">get_camera</a> (self)</td></tr>
<tr class="memdesc:ac109d42dbfba8efe65c3c0a30246788c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the camera object used to get thermal images.  <br /></td></tr>
<tr class="separator:ac109d42dbfba8efe65c3c0a30246788c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8505606c2b1b30fa1857ed9fd92cd944" id="r_a8505606c2b1b30fa1857ed9fd92cd944"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8505606c2b1b30fa1857ed9fd92cd944">get_image</a> (self)</td></tr>
<tr class="memdesc:a8505606c2b1b30fa1857ed9fd92cd944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current image obtained from this turret process.  <br /></td></tr>
<tr class="separator:a8505606c2b1b30fa1857ed9fd92cd944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ddcd58f5e30ebdd0e11ec7ee091232" id="r_a85ddcd58f5e30ebdd0e11ec7ee091232"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85ddcd58f5e30ebdd0e11ec7ee091232">get_prev_image</a> (self)</td></tr>
<tr class="memdesc:a85ddcd58f5e30ebdd0e11ec7ee091232"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the previous image obtained from this thermal process.  <br /></td></tr>
<tr class="separator:a85ddcd58f5e30ebdd0e11ec7ee091232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a15f9cc193f5d9be69b94a78fa19c3" id="r_a51a15f9cc193f5d9be69b94a78fa19c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51a15f9cc193f5d9be69b94a78fa19c3">get_setpoint</a> (self)</td></tr>
<tr class="memdesc:a51a15f9cc193f5d9be69b94a78fa19c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current setpoint of this turret process.  <br /></td></tr>
<tr class="separator:a51a15f9cc193f5d9be69b94a78fa19c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28a2d61ce86bc019dec7668ee53d169" id="r_aa28a2d61ce86bc019dec7668ee53d169"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa28a2d61ce86bc019dec7668ee53d169">turret_angle_to_encoder_val</a> (self, angle)</td></tr>
<tr class="memdesc:aa28a2d61ce86bc019dec7668ee53d169"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the input angle to an encoder value for the turret.  <br /></td></tr>
<tr class="separator:aa28a2d61ce86bc019dec7668ee53d169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467349e2fd4a3843878df3e780ea9568" id="r_a467349e2fd4a3843878df3e780ea9568"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a467349e2fd4a3843878df3e780ea9568">get_center_of_mass</a> (self, list[int] data)</td></tr>
<tr class="memdesc:a467349e2fd4a3843878df3e780ea9568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks at the list of thermal values and returns the column index that best represents the target position.  <br /></td></tr>
<tr class="separator:a467349e2fd4a3843878df3e780ea9568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476a684fe6000d6503cfd7e5446ecf40" id="r_a476a684fe6000d6503cfd7e5446ecf40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a476a684fe6000d6503cfd7e5446ecf40">center_of_mass_to_degrees</a> (self, cm)</td></tr>
<tr class="memdesc:a476a684fe6000d6503cfd7e5446ecf40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the inputted center of mass to the direction of the center of mass in units of degrees.  <br /></td></tr>
<tr class="separator:a476a684fe6000d6503cfd7e5446ecf40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1603367da7fbb75b111253cdf6235b74" id="r_a1603367da7fbb75b111253cdf6235b74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1603367da7fbb75b111253cdf6235b74">parse_image</a> (self, camera, image)</td></tr>
<tr class="memdesc:a1603367da7fbb75b111253cdf6235b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the captured thermal image data to return the direction of the target in units of encoder counts.  <br /></td></tr>
<tr class="separator:a1603367da7fbb75b111253cdf6235b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68a7f492dcf68f05a5d14aa7b27b366" id="r_ac68a7f492dcf68f05a5d14aa7b27b366"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac68a7f492dcf68f05a5d14aa7b27b366">button_task_gen_fun</a> (self)</td></tr>
<tr class="memdesc:ac68a7f492dcf68f05a5d14aa7b27b366"><td class="mdescLeft">&#160;</td><td class="mdescRight">This generator function funs the state machine for the button task.  <br /></td></tr>
<tr class="separator:ac68a7f492dcf68f05a5d14aa7b27b366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365c952c92d5d31e3d111a327c933b03" id="r_a365c952c92d5d31e3d111a327c933b03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a365c952c92d5d31e3d111a327c933b03">image_task_gen_fun</a> (self)</td></tr>
<tr class="memdesc:a365c952c92d5d31e3d111a327c933b03"><td class="mdescLeft">&#160;</td><td class="mdescRight">This generator function runs the state machine for the image task.  <br /></td></tr>
<tr class="separator:a365c952c92d5d31e3d111a327c933b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a677cd11678cd43abdd1a5b70a9bb0fe1" id="r_a677cd11678cd43abdd1a5b70a9bb0fe1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a677cd11678cd43abdd1a5b70a9bb0fe1">rotate_task_gen_fun</a> (self)</td></tr>
<tr class="memdesc:a677cd11678cd43abdd1a5b70a9bb0fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This generator function runs thet state machine for the rotate task.  <br /></td></tr>
<tr class="separator:a677cd11678cd43abdd1a5b70a9bb0fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0a2b6738cace556a31c25582b9c3484b" id="r_a0a2b6738cace556a31c25582b9c3484b"><td class="memItemLeft" align="right" valign="top"><a id="a0a2b6738cace556a31c25582b9c3484b" name="a0a2b6738cace556a31c25582b9c3484b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>task_name</b></td></tr>
<tr class="separator:a0a2b6738cace556a31c25582b9c3484b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40dc6474d7101fac79b0a3f450fc215" id="r_ab40dc6474d7101fac79b0a3f450fc215"><td class="memItemLeft" align="right" valign="top"><a id="ab40dc6474d7101fac79b0a3f450fc215" name="ab40dc6474d7101fac79b0a3f450fc215"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sw1</b></td></tr>
<tr class="separator:ab40dc6474d7101fac79b0a3f450fc215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ebb46c5b9b0ac1678debb67f99453b" id="r_af7ebb46c5b9b0ac1678debb67f99453b"><td class="memItemLeft" align="right" valign="top"><a id="af7ebb46c5b9b0ac1678debb67f99453b" name="af7ebb46c5b9b0ac1678debb67f99453b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>led</b></td></tr>
<tr class="separator:af7ebb46c5b9b0ac1678debb67f99453b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31504f2389c92be90b145d97fed2d96" id="r_af31504f2389c92be90b145d97fed2d96"><td class="memItemLeft" align="right" valign="top"><a id="af31504f2389c92be90b145d97fed2d96" name="af31504f2389c92be90b145d97fed2d96"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor</b></td></tr>
<tr class="separator:af31504f2389c92be90b145d97fed2d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb94d55aea065c29e000a62e6ba447f" id="r_a9cb94d55aea065c29e000a62e6ba447f"><td class="memItemLeft" align="right" valign="top"><a id="a9cb94d55aea065c29e000a62e6ba447f" name="a9cb94d55aea065c29e000a62e6ba447f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>encoder</b></td></tr>
<tr class="separator:a9cb94d55aea065c29e000a62e6ba447f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeba728269cefa19e8ac8cadbc231672" id="r_abeba728269cefa19e8ac8cadbc231672"><td class="memItemLeft" align="right" valign="top"><a id="abeba728269cefa19e8ac8cadbc231672" name="abeba728269cefa19e8ac8cadbc231672"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pcontrol</b></td></tr>
<tr class="separator:abeba728269cefa19e8ac8cadbc231672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496b7f8d3b03accf5ede4f3d263de168" id="r_a496b7f8d3b03accf5ede4f3d263de168"><td class="memItemLeft" align="right" valign="top"><a id="a496b7f8d3b03accf5ede4f3d263de168" name="a496b7f8d3b03accf5ede4f3d263de168"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>camera</b></td></tr>
<tr class="separator:a496b7f8d3b03accf5ede4f3d263de168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11cb438624383796153b335bade7a9cb" id="r_a11cb438624383796153b335bade7a9cb"><td class="memItemLeft" align="right" valign="top"><a id="a11cb438624383796153b335bade7a9cb" name="a11cb438624383796153b335bade7a9cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>servo</b></td></tr>
<tr class="separator:a11cb438624383796153b335bade7a9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af68e18f2ba4fd781e3a9774168867a02" id="r_af68e18f2ba4fd781e3a9774168867a02"><td class="memItemLeft" align="right" valign="top"><a id="af68e18f2ba4fd781e3a9774168867a02" name="af68e18f2ba4fd781e3a9774168867a02"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>start_flag</b></td></tr>
<tr class="separator:af68e18f2ba4fd781e3a9774168867a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49a431bf8f8a7e1425489a600178f90" id="r_ab49a431bf8f8a7e1425489a600178f90"><td class="memItemLeft" align="right" valign="top"><a id="ab49a431bf8f8a7e1425489a600178f90" name="ab49a431bf8f8a7e1425489a600178f90"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>image_flag</b></td></tr>
<tr class="separator:ab49a431bf8f8a7e1425489a600178f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c580d12d441db628b3e9bd40cc46fe" id="r_a71c580d12d441db628b3e9bd40cc46fe"><td class="memItemLeft" align="right" valign="top"><a id="a71c580d12d441db628b3e9bd40cc46fe" name="a71c580d12d441db628b3e9bd40cc46fe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>image</b></td></tr>
<tr class="separator:a71c580d12d441db628b3e9bd40cc46fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77e02ed8091a4766c0ec121c38371c5" id="r_ad77e02ed8091a4766c0ec121c38371c5"><td class="memItemLeft" align="right" valign="top"><a id="ad77e02ed8091a4766c0ec121c38371c5" name="ad77e02ed8091a4766c0ec121c38371c5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>prev_image</b></td></tr>
<tr class="separator:ad77e02ed8091a4766c0ec121c38371c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09311d57fe714f3219177fb8f9eb4092" id="r_a09311d57fe714f3219177fb8f9eb4092"><td class="memItemLeft" align="right" valign="top"><a id="a09311d57fe714f3219177fb8f9eb4092" name="a09311d57fe714f3219177fb8f9eb4092"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>loop_val</b></td></tr>
<tr class="separator:a09311d57fe714f3219177fb8f9eb4092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e67b0ed21b68793458cfdf1b5c3c59" id="r_a43e67b0ed21b68793458cfdf1b5c3c59"><td class="memItemLeft" align="right" valign="top"><a id="a43e67b0ed21b68793458cfdf1b5c3c59" name="a43e67b0ed21b68793458cfdf1b5c3c59"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>setpoint</b></td></tr>
<tr class="separator:a43e67b0ed21b68793458cfdf1b5c3c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a2321d03f60b1c8853d82d2c94e1c8f" id="r_a3a2321d03f60b1c8853d82d2c94e1c8f"><td class="memItemLeft" align="right" valign="top"><a id="a3a2321d03f60b1c8853d82d2c94e1c8f" name="a3a2321d03f60b1c8853d82d2c94e1c8f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>start_time</b></td></tr>
<tr class="separator:a3a2321d03f60b1c8853d82d2c94e1c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to help perform the turret process. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a491ae608e57eae4ea292fc3230cd2cbf" name="a491ae608e57eae4ea292fc3230cd2cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491ae608e57eae4ea292fc3230cd2cbf">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>task_name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an instance of the turret generator class. </p>
<p>This initialization creates instances of all objects necessary for the turret process. Initializes the pin to read the start button on pin PC2. Initializes the builtin LED (LD2) to be an output. Initializes the motor to rotate the turret on pins PC1, PA0, PA1, timer 5. Initializes the encoder reader on pins PC6, PC7, timer 8. Initializes the proportional controller with this motor driver and this encoder reader. Initializes the mlx camera on I2C bus 1 which is pins PB8 and PB9. Initializes the servo on pin PB3, timer 2 to have a 20ms period and in its initial position. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task_name</td><td>-&gt; String representing the name of this task. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac68a7f492dcf68f05a5d14aa7b27b366" name="ac68a7f492dcf68f05a5d14aa7b27b366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68a7f492dcf68f05a5d14aa7b27b366">&#9670;&#160;</a></span>button_task_gen_fun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.button_task_gen_fun </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This generator function funs the state machine for the button task. </p>
<p>Constantly checks the state of the active low start button. After the button is pressed, initializes values for the start position and waits 5 seconds for opponents to position themself. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a476a684fe6000d6503cfd7e5446ecf40" name="a476a684fe6000d6503cfd7e5446ecf40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a476a684fe6000d6503cfd7e5446ecf40">&#9670;&#160;</a></span>center_of_mass_to_degrees()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.center_of_mass_to_degrees </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cm</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the inputted center of mass to the direction of the center of mass in units of degrees. </p>
<p>The units of the input center of mass should be columns of thermal image data. The reference of zero for these columns is on the left side of the camera. For the returned angle to be accurate, the camera should be placed according to the global constants at the top of this file, along the center of the table. The reference for the returned angle is from the line down the center of the table in the direction of the target. A positive angle is in the clockwise direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cm</td><td>-&gt; Center of mass of thermal image data (in units of columns of thermal image data). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Angle representing the direction of the center of mass of thermal image data. Angle returned in units of degrees. </dd></dl>

</div>
</div>
<a id="ac109d42dbfba8efe65c3c0a30246788c" name="ac109d42dbfba8efe65c3c0a30246788c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac109d42dbfba8efe65c3c0a30246788c">&#9670;&#160;</a></span>get_camera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_camera </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the camera object used to get thermal images. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MLX_Cam object to get images and image info. </dd></dl>

</div>
</div>
<a id="a467349e2fd4a3843878df3e780ea9568" name="a467349e2fd4a3843878df3e780ea9568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467349e2fd4a3843878df3e780ea9568">&#9670;&#160;</a></span>get_center_of_mass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_center_of_mass </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list[int]</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks at the list of thermal values and returns the column index that best represents the target position. </p>
<p>Does this by getting the index of the maximum value. If the list is empty, returns 0. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>-&gt; A list of number data (data should be integers). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The column index to aim to. </dd></dl>

</div>
</div>
<a id="a8505606c2b1b30fa1857ed9fd92cd944" name="a8505606c2b1b30fa1857ed9fd92cd944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8505606c2b1b30fa1857ed9fd92cd944">&#9670;&#160;</a></span>get_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_image </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current image obtained from this turret process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current thermal image. </dd></dl>

</div>
</div>
<a id="ad63f6cc6fb320984b93fbe6ead1fe22c" name="ad63f6cc6fb320984b93fbe6ead1fe22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad63f6cc6fb320984b93fbe6ead1fe22c">&#9670;&#160;</a></span>get_led()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_led </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the pin object used to actuate the builtin LED LD2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pin object to set the value of the builtin LED to. </dd></dl>

</div>
</div>
<a id="a09c6e7fa3fea93927d3ed81e58673430" name="a09c6e7fa3fea93927d3ed81e58673430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09c6e7fa3fea93927d3ed81e58673430">&#9670;&#160;</a></span>get_motor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_motor </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the motor driver object associated with this turret. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The MotorDriver object used to rotate this turret. </dd></dl>

</div>
</div>
<a id="a85ddcd58f5e30ebdd0e11ec7ee091232" name="a85ddcd58f5e30ebdd0e11ec7ee091232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ddcd58f5e30ebdd0e11ec7ee091232">&#9670;&#160;</a></span>get_prev_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_prev_image </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the previous image obtained from this thermal process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The previous thermal image. </dd></dl>

</div>
</div>
<a id="a2f20a89b022d39a396d97a688aa3ebbf" name="a2f20a89b022d39a396d97a688aa3ebbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f20a89b022d39a396d97a688aa3ebbf">&#9670;&#160;</a></span>get_servo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_servo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the servo driver object associated with this turret. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ServoDriver object used to fire this turret. </dd></dl>

</div>
</div>
<a id="a51a15f9cc193f5d9be69b94a78fa19c3" name="a51a15f9cc193f5d9be69b94a78fa19c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51a15f9cc193f5d9be69b94a78fa19c3">&#9670;&#160;</a></span>get_setpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_setpoint </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current setpoint of this turret process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current setpoint. </dd></dl>

</div>
</div>
<a id="a6facbac7675db358c989152d71989cf8" name="a6facbac7675db358c989152d71989cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6facbac7675db358c989152d71989cf8">&#9670;&#160;</a></span>get_start_button()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.get_start_button </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the active low start button object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pin object to read the active low start button value from. </dd></dl>

</div>
</div>
<a id="a365c952c92d5d31e3d111a327c933b03" name="a365c952c92d5d31e3d111a327c933b03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a365c952c92d5d31e3d111a327c933b03">&#9670;&#160;</a></span>image_task_gen_fun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.image_task_gen_fun </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This generator function runs the state machine for the image task. </p>
<p>Constantly tries to capture an image from the thermal camera. Once a valid image is read, the location of the target is derived and stored in the setpoint attribute of this class for the turret task to use as an input to the closed-loop proportional controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Yields the state of the FSM. </dd></dl>

</div>
</div>
<a id="a1603367da7fbb75b111253cdf6235b74" name="a1603367da7fbb75b111253cdf6235b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1603367da7fbb75b111253cdf6235b74">&#9670;&#160;</a></span>parse_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.parse_image </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>camera</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>image</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses the captured thermal image data to return the direction of the target in units of encoder counts. </p>
<p>First, parses image data to find the row with the largest mean value. Then uses this row of data to calculate the center of mass for this row. Then uses this center of mass to find the direct the turret should be aimed and converts this value to units of encoder counts to be used with the proportional controller. Assumes camera to be pointed 180 degrees away from the direction the turret is pointed. Positive rotational direction is defined to be clockwise. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera</td><td>-&gt; MLX_Cam object used to obtain image. </td></tr>
    <tr><td class="paramname">image</td><td>-&gt; Thermal image from MLX_Cam object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Direction of target in units of encoder counts. </dd></dl>

</div>
</div>
<a id="a677cd11678cd43abdd1a5b70a9bb0fe1" name="a677cd11678cd43abdd1a5b70a9bb0fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a677cd11678cd43abdd1a5b70a9bb0fe1">&#9670;&#160;</a></span>rotate_task_gen_fun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.rotate_task_gen_fun </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This generator function runs thet state machine for the rotate task. </p>
<p>This task runs a closed loop proportional controller to aim the turret. Then after a globally defined interval, will actuate the servo and fire the Nerf dart. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Yields the state of the FSM. </dd></dl>

</div>
</div>
<a id="aa28a2d61ce86bc019dec7668ee53d169" name="aa28a2d61ce86bc019dec7668ee53d169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28a2d61ce86bc019dec7668ee53d169">&#9670;&#160;</a></span>turret_angle_to_encoder_val()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.turret_gen_class.turret_angle_to_encoder_val </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>angle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the input angle to an encoder value for the turret. </p>
<p>The reference for this input angle should be 180 degrees from the initial direction of the turret. This function will take this into account, and will add 180 degrees worth of encoder value to the angle input to this function. This allows, this encoder value to be used as the setpoint for the proportional controller. Overall, whereas the output is favorable for dealing with the turret, the input is favorable for dealing with the thermal image. Assumes that clockwise is the positive direction for the input angle as well as the positive direction for the returned encoder value. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">angle</td><td>-&gt; Angle to convert to encoder value. Expects this value to be in units of degrees. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The encoder value for the turret, representative of the input angle. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="main_8py.html">main.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>main</b></li><li class="navelem"><a class="el" href="classmain_1_1turret__gen__class.html">turret_gen_class</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
