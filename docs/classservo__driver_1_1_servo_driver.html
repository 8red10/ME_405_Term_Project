<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: servo_driver.ServoDriver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME 405 Term Project<span id="projectnumber">&#160;1.2.19</span>
   </div>
   <div id="projectbrief">heat-seeking nerf turret</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classservo__driver_1_1_servo_driver.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classservo__driver_1_1_servo_driver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">servo_driver.ServoDriver Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class implements a servo driver for the ME 405 term project.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9ed38aa8ef65b5be8562d1bcd5560c75" id="r_a9ed38aa8ef65b5be8562d1bcd5560c75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ed38aa8ef65b5be8562d1bcd5560c75">__init__</a> (self, pin=pyb.Pin.board.PB3, timer_num=2, channel_num=2, period=19999, ps=79)</td></tr>
<tr class="memdesc:a9ed38aa8ef65b5be8562d1bcd5560c75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a servo driver to output a PWM wave to the pin object input to this constructor, using the timer and channel numbers also input to this constructor.  <br /></td></tr>
<tr class="separator:a9ed38aa8ef65b5be8562d1bcd5560c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c2d0e3da551321730c175448e2de1c1" id="r_a1c2d0e3da551321730c175448e2de1c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c2d0e3da551321730c175448e2de1c1">get_whole_period</a> (self)</td></tr>
<tr class="memdesc:a1c2d0e3da551321730c175448e2de1c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual period of the timer, with the prescaler and AR values taken into account.  <br /></td></tr>
<tr class="separator:a1c2d0e3da551321730c175448e2de1c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ca467f442f92fde5ebfe9c860c117a" id="r_a73ca467f442f92fde5ebfe9c860c117a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73ca467f442f92fde5ebfe9c860c117a">set_pulse_width</a> (self, value)</td></tr>
<tr class="memdesc:a73ca467f442f92fde5ebfe9c860c117a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the pulse width of the servo to the input value.  <br /></td></tr>
<tr class="separator:a73ca467f442f92fde5ebfe9c860c117a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab73386790810bee9d668b1968687b8ae" id="r_ab73386790810bee9d668b1968687b8ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab73386790810bee9d668b1968687b8ae">zero</a> (self)</td></tr>
<tr class="memdesc:ab73386790810bee9d668b1968687b8ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns off any PWM input to the servo by setting the pulse width value to zero.  <br /></td></tr>
<tr class="separator:ab73386790810bee9d668b1968687b8ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b593552b501e80b767fbff21d22de7" id="r_a21b593552b501e80b767fbff21d22de7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21b593552b501e80b767fbff21d22de7">set_position</a> (self, int position)</td></tr>
<tr class="memdesc:a21b593552b501e80b767fbff21d22de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the position of the servo based on input.  <br /></td></tr>
<tr class="separator:a21b593552b501e80b767fbff21d22de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e5bef4db616b295cae88ca68e9dca3" id="r_ad7e5bef4db616b295cae88ca68e9dca3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7e5bef4db616b295cae88ca68e9dca3">set_duty_cycle</a> (self, int level)</td></tr>
<tr class="memdesc:ad7e5bef4db616b295cae88ca68e9dca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the duty cycle of the PWM to the input value.  <br /></td></tr>
<tr class="separator:ad7e5bef4db616b295cae88ca68e9dca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7ce1bb1cf9725cf179274693a0598ea8" id="r_a7ce1bb1cf9725cf179274693a0598ea8"><td class="memItemLeft" align="right" valign="top"><a id="a7ce1bb1cf9725cf179274693a0598ea8" name="a7ce1bb1cf9725cf179274693a0598ea8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pin</b></td></tr>
<tr class="separator:a7ce1bb1cf9725cf179274693a0598ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a753ef13df97aeb539502274054f3bc12" id="r_a753ef13df97aeb539502274054f3bc12"><td class="memItemLeft" align="right" valign="top"><a id="a753ef13df97aeb539502274054f3bc12" name="a753ef13df97aeb539502274054f3bc12"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AR</b></td></tr>
<tr class="separator:a753ef13df97aeb539502274054f3bc12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a156961a629df3983a6bb66cf44efbf64" id="r_a156961a629df3983a6bb66cf44efbf64"><td class="memItemLeft" align="right" valign="top"><a id="a156961a629df3983a6bb66cf44efbf64" name="a156961a629df3983a6bb66cf44efbf64"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PS</b></td></tr>
<tr class="separator:a156961a629df3983a6bb66cf44efbf64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf412415da18638a760840b1dd147ccd" id="r_abf412415da18638a760840b1dd147ccd"><td class="memItemLeft" align="right" valign="top"><a id="abf412415da18638a760840b1dd147ccd" name="abf412415da18638a760840b1dd147ccd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>actual_period</b></td></tr>
<tr class="separator:abf412415da18638a760840b1dd147ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19aa397c6e84e4543299eed3fc03a1a" id="r_ad19aa397c6e84e4543299eed3fc03a1a"><td class="memItemLeft" align="right" valign="top"><a id="ad19aa397c6e84e4543299eed3fc03a1a" name="ad19aa397c6e84e4543299eed3fc03a1a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>timer</b></td></tr>
<tr class="separator:ad19aa397c6e84e4543299eed3fc03a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af626871b3b09e44c56376f5d8b0d01d6" id="r_af626871b3b09e44c56376f5d8b0d01d6"><td class="memItemLeft" align="right" valign="top"><a id="af626871b3b09e44c56376f5d8b0d01d6" name="af626871b3b09e44c56376f5d8b0d01d6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>channel</b></td></tr>
<tr class="separator:af626871b3b09e44c56376f5d8b0d01d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements a servo driver for the ME 405 term project. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9ed38aa8ef65b5be8562d1bcd5560c75" name="a9ed38aa8ef65b5be8562d1bcd5560c75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed38aa8ef65b5be8562d1bcd5560c75">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">servo_driver.ServoDriver.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pin</em><span class="paramdefsep"> = </span><span class="paramdefval">pyb.Pin.board.PB3</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timer_num</em><span class="paramdefsep"> = </span><span class="paramdefval">2</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>channel_num</em><span class="paramdefsep"> = </span><span class="paramdefval">2</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>period</em><span class="paramdefsep"> = </span><span class="paramdefval">19999</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ps</em><span class="paramdefsep"> = </span><span class="paramdefval">79</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a servo driver to output a PWM wave to the pin object input to this constructor, using the timer and channel numbers also input to this constructor. </p>
<p>Initializes the servo to its neutral position (1.5ms pulse width). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>-&gt; Pin object to have the PWM wave output used to control the position of the servo. This Pin object should correspond with the timer and channel number input to this constructor. Defaults to a PB3 pyb.Pin object. </td></tr>
    <tr><td class="paramname">timer_num</td><td>-&gt; An integer representing the timer to use to control the servo position. Defaults to 2. </td></tr>
    <tr><td class="paramname">channel_num</td><td>-&gt; An integer representing the channel number of the timer that is used to control the servo position. Defaults to 2. </td></tr>
    <tr><td class="paramname">period</td><td>-&gt; An integer representing the period to initialize the timer with. This is the value loaded into the timer's AR register. Default value is 19999 to help create an actual frequency of 50Hz corresponding to an actual period of 20ms. </td></tr>
    <tr><td class="paramname">ps</td><td>-&gt; An integer representinig the value to set the prescaler to. Default value is 79 to help create an actual frequency of 50Hz corresponding to an actual period of 20ms. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1c2d0e3da551321730c175448e2de1c1" name="a1c2d0e3da551321730c175448e2de1c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c2d0e3da551321730c175448e2de1c1">&#9670;&#160;</a></span>get_whole_period()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">servo_driver.ServoDriver.get_whole_period </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the actual period of the timer, with the prescaler and AR values taken into account. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Acutal period of the timer in units of milliseconds. </dd></dl>

</div>
</div>
<a id="ad7e5bef4db616b295cae88ca68e9dca3" name="ad7e5bef4db616b295cae88ca68e9dca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e5bef4db616b295cae88ca68e9dca3">&#9670;&#160;</a></span>set_duty_cycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">servo_driver.ServoDriver.set_duty_cycle </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the duty cycle of the PWM to the input value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>-&gt; An integer in the range [0,100] representing the duty cycle to set the servo to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a21b593552b501e80b767fbff21d22de7" name="a21b593552b501e80b767fbff21d22de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b593552b501e80b767fbff21d22de7">&#9670;&#160;</a></span>set_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">servo_driver.ServoDriver.set_position </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>position</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the position of the servo based on input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>-&gt; An integer in the range [0,100], where 0 is one extreme of its position and 100 is the other extreme of its position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a73ca467f442f92fde5ebfe9c860c117a" name="a73ca467f442f92fde5ebfe9c860c117a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73ca467f442f92fde5ebfe9c860c117a">&#9670;&#160;</a></span>set_pulse_width()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">servo_driver.ServoDriver.set_pulse_width </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the pulse width of the servo to the input value. </p>
<p>This function is the most robust and most helpful for servo control. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>-&gt; A number representing the number of milliseconds for the pulse width to be set to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="ab73386790810bee9d668b1968687b8ae" name="ab73386790810bee9d668b1968687b8ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73386790810bee9d668b1968687b8ae">&#9670;&#160;</a></span>zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">servo_driver.ServoDriver.zero </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turns off any PWM input to the servo by setting the pulse width value to zero. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="servo__driver_8py.html">servo_driver.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>servo_driver</b></li><li class="navelem"><a class="el" href="classservo__driver_1_1_servo_driver.html">ServoDriver</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
