<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: proportional_controller.ProportionalController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME 405 Term Project<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">heat-seeking nerf turret</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classproportional__controller_1_1_proportional_controller.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classproportional__controller_1_1_proportional_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">proportional_controller.ProportionalController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class implements a proportional controller.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad7952c898d39cc04bf411444cd20e7e2" id="r_ad7952c898d39cc04bf411444cd20e7e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7952c898d39cc04bf411444cd20e7e2">__init__</a> (self, Kp, Kd, setpoint, setvel, actuate, sense, data_points)</td></tr>
<tr class="memdesc:ad7952c898d39cc04bf411444cd20e7e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a ProportionalController instance.  <br /></td></tr>
<tr class="separator:ad7952c898d39cc04bf411444cd20e7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7837032f784b9e6e8a3e8b2a421d38e" id="r_ac7837032f784b9e6e8a3e8b2a421d38e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7837032f784b9e6e8a3e8b2a421d38e">reset_queues</a> (self)</td></tr>
<tr class="memdesc:ac7837032f784b9e6e8a3e8b2a421d38e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the time queue and position queue by clearing them of all data.  <br /></td></tr>
<tr class="separator:ac7837032f784b9e6e8a3e8b2a421d38e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d70c5b8893c3bcba9835397c9cb5cc0" id="r_a2d70c5b8893c3bcba9835397c9cb5cc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d70c5b8893c3bcba9835397c9cb5cc0">print_data</a> (self)</td></tr>
<tr class="memdesc:a2d70c5b8893c3bcba9835397c9cb5cc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the data in the queues in CSV format: time_value,position_value.  <br /></td></tr>
<tr class="separator:a2d70c5b8893c3bcba9835397c9cb5cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7201e86cbe8bdd5752adf6d6e17e767c" id="r_a7201e86cbe8bdd5752adf6d6e17e767c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7201e86cbe8bdd5752adf6d6e17e767c">set_data_points</a> (self, num_data_points)</td></tr>
<tr class="memdesc:a7201e86cbe8bdd5752adf6d6e17e767c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the queue length variable to to the number of data points desired in each queue.  <br /></td></tr>
<tr class="separator:a7201e86cbe8bdd5752adf6d6e17e767c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aace45cd04437b879d434b69d6f2596" id="r_a1aace45cd04437b879d434b69d6f2596"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1aace45cd04437b879d434b69d6f2596">run</a> (self, interval, start_time)</td></tr>
<tr class="memdesc:a1aace45cd04437b879d434b69d6f2596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the control algorithm to position the actuator based on information from the sensor.  <br /></td></tr>
<tr class="separator:a1aace45cd04437b879d434b69d6f2596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5048f2b10b00546c953ccc13717cfa47" id="r_a5048f2b10b00546c953ccc13717cfa47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5048f2b10b00546c953ccc13717cfa47">set_setpoint</a> (self, setpoint)</td></tr>
<tr class="memdesc:a5048f2b10b00546c953ccc13717cfa47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the setpoint to the input value.  <br /></td></tr>
<tr class="separator:a5048f2b10b00546c953ccc13717cfa47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca45d2020055f58d458d99b5ea54d18" id="r_a7ca45d2020055f58d458d99b5ea54d18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ca45d2020055f58d458d99b5ea54d18">set_setvel</a> (self, setvel)</td></tr>
<tr class="memdesc:a7ca45d2020055f58d458d99b5ea54d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the desired velocity to the input value.  <br /></td></tr>
<tr class="separator:a7ca45d2020055f58d458d99b5ea54d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbd17b1449d97ef4bbf8ce85d582798" id="r_a9dbd17b1449d97ef4bbf8ce85d582798"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9dbd17b1449d97ef4bbf8ce85d582798">set_Kp</a> (self, Kp)</td></tr>
<tr class="memdesc:a9dbd17b1449d97ef4bbf8ce85d582798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the position gain, Kp, to the desired value.  <br /></td></tr>
<tr class="separator:a9dbd17b1449d97ef4bbf8ce85d582798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2754f5c0738d5c57c278c359a795c26b" id="r_a2754f5c0738d5c57c278c359a795c26b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2754f5c0738d5c57c278c359a795c26b">set_Kd</a> (self, Kd)</td></tr>
<tr class="memdesc:a2754f5c0738d5c57c278c359a795c26b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the derivative gain, Kd, to the input value.  <br /></td></tr>
<tr class="separator:a2754f5c0738d5c57c278c359a795c26b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a72ce88f07d8d6bb53f1b9ea84ab31969" id="r_a72ce88f07d8d6bb53f1b9ea84ab31969"><td class="memItemLeft" align="right" valign="top"><a id="a72ce88f07d8d6bb53f1b9ea84ab31969" name="a72ce88f07d8d6bb53f1b9ea84ab31969"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Kp</b></td></tr>
<tr class="separator:a72ce88f07d8d6bb53f1b9ea84ab31969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b9995b0d18c58c8693280dbbb0d9b6" id="r_ab8b9995b0d18c58c8693280dbbb0d9b6"><td class="memItemLeft" align="right" valign="top"><a id="ab8b9995b0d18c58c8693280dbbb0d9b6" name="ab8b9995b0d18c58c8693280dbbb0d9b6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Kd</b></td></tr>
<tr class="separator:ab8b9995b0d18c58c8693280dbbb0d9b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96f72153fb0e54ea0d1ffa368f0557c" id="r_ad96f72153fb0e54ea0d1ffa368f0557c"><td class="memItemLeft" align="right" valign="top"><a id="ad96f72153fb0e54ea0d1ffa368f0557c" name="ad96f72153fb0e54ea0d1ffa368f0557c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>setpoint</b></td></tr>
<tr class="separator:ad96f72153fb0e54ea0d1ffa368f0557c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3175b670f337cb28cbc841586083e9" id="r_a8f3175b670f337cb28cbc841586083e9"><td class="memItemLeft" align="right" valign="top"><a id="a8f3175b670f337cb28cbc841586083e9" name="a8f3175b670f337cb28cbc841586083e9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>setvel</b></td></tr>
<tr class="separator:a8f3175b670f337cb28cbc841586083e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47bde85e34b73200bda317826692533" id="r_aa47bde85e34b73200bda317826692533"><td class="memItemLeft" align="right" valign="top"><a id="aa47bde85e34b73200bda317826692533" name="aa47bde85e34b73200bda317826692533"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>actuate</b></td></tr>
<tr class="separator:aa47bde85e34b73200bda317826692533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dbf20ebaf40090491c47cadb102bca" id="r_ac8dbf20ebaf40090491c47cadb102bca"><td class="memItemLeft" align="right" valign="top"><a id="ac8dbf20ebaf40090491c47cadb102bca" name="ac8dbf20ebaf40090491c47cadb102bca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sense</b></td></tr>
<tr class="separator:ac8dbf20ebaf40090491c47cadb102bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae02f95379d3e1296532a58e304cada5e" id="r_ae02f95379d3e1296532a58e304cada5e"><td class="memItemLeft" align="right" valign="top"><a id="ae02f95379d3e1296532a58e304cada5e" name="ae02f95379d3e1296532a58e304cada5e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>queue_len</b></td></tr>
<tr class="separator:ae02f95379d3e1296532a58e304cada5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad796c71a91d9253ad736d44721ad9c81" id="r_ad796c71a91d9253ad736d44721ad9c81"><td class="memItemLeft" align="right" valign="top"><a id="ad796c71a91d9253ad736d44721ad9c81" name="ad796c71a91d9253ad736d44721ad9c81"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>timeQ</b></td></tr>
<tr class="separator:ad796c71a91d9253ad736d44721ad9c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6700e40c2d82036daf838462a31118f1" id="r_a6700e40c2d82036daf838462a31118f1"><td class="memItemLeft" align="right" valign="top"><a id="a6700e40c2d82036daf838462a31118f1" name="a6700e40c2d82036daf838462a31118f1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>positionQ</b></td></tr>
<tr class="separator:a6700e40c2d82036daf838462a31118f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3a132cb8ff017d3d4e031f9cf101b7" id="r_a9c3a132cb8ff017d3d4e031f9cf101b7"><td class="memItemLeft" align="right" valign="top"><a id="a9c3a132cb8ff017d3d4e031f9cf101b7" name="a9c3a132cb8ff017d3d4e031f9cf101b7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>prev_pos</b></td></tr>
<tr class="separator:a9c3a132cb8ff017d3d4e031f9cf101b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements a proportional controller. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad7952c898d39cc04bf411444cd20e7e2" name="ad7952c898d39cc04bf411444cd20e7e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7952c898d39cc04bf411444cd20e7e2">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Kp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Kd</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>setpoint</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>setvel</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>actuate</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>sense</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data_points</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a ProportionalController instance. </p>
<p>This instance is expected to be run in a feedback loop such that the run() function of this class can continuously change the input to the actuator based on the result read from the position sensor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>-&gt; The position gain to initialize the proportional controller with. Position gain is the gain to apply to the difference of the input setpoint and the current position to help obtain the duty cycle. (i.e. to apply to a motor) </td></tr>
    <tr><td class="paramname">Kd</td><td>-&gt; The derivative gain to initialize the proportional controller with. Derivative gain is the gain to apply to the difference of the desired velocity and the estimate of the current velocity to help obtain the duty cycle. (i.e. to apply to a motor) </td></tr>
    <tr><td class="paramname">setpoint</td><td>-&gt; The setpoint to initialize the proportional controller with. Setpoint is an integer representing the desired location of the actuator in units of encoder counts. (i.e. position of a motor) </td></tr>
    <tr><td class="paramname">setvel</td><td>-&gt; The target velocity to initialize the proportional controller with. Setvel is an integer representing the desired velocity of the actuator in units of encoder counts per second. (i.e. velocity of motor) </td></tr>
    <tr><td class="paramname">actuate</td><td>-&gt; The function that is a member of the class of the actuator driver (e.g. MotorDriver). The only input to this function is a duty cycle in the range [-100,100], inclusive. </td></tr>
    <tr><td class="paramname">sense</td><td>-&gt; The function that is a member fo the class of the position sensor driver (e.g. Encoder). Returns a value representing the current position. There should be no required inputs to this function. </td></tr>
    <tr><td class="paramname">data_points</td><td>-&gt; The number of data points that will be taken from the result of the proportional controller. This is an integer that also represents the number of times the run() function is expected to be executed. This value will be used to initialize the queue length. If data collection is not desired, any postive integer can be used for this parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2d70c5b8893c3bcba9835397c9cb5cc0" name="a2d70c5b8893c3bcba9835397c9cb5cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d70c5b8893c3bcba9835397c9cb5cc0">&#9670;&#160;</a></span>print_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.print_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the data in the queues in CSV format: time_value,position_value. </p>
<p>Also adds headers to the beginning to identify the data printed. Lastly, prints 'End' to signal the end of the data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="ac7837032f784b9e6e8a3e8b2a421d38e" name="ac7837032f784b9e6e8a3e8b2a421d38e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7837032f784b9e6e8a3e8b2a421d38e">&#9670;&#160;</a></span>reset_queues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.reset_queues </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the time queue and position queue by clearing them of all data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a1aace45cd04437b879d434b69d6f2596" name="a1aace45cd04437b879d434b69d6f2596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aace45cd04437b879d434b69d6f2596">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.run </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>interval</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>start_time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the control algorithm to position the actuator based on information from the sensor. </p>
<p>This is expected to be run as a task at a set period interval as to approximate a feedback loop.</p>
<p>The desired setpoint is compared with the current position read from the sense function inputted to the constructor of this class. This difference (error) in position is multiplied with the position gain to obtain the first half of the information used to calculate the duty cycle that is then applied to the acutator.</p>
<p>The desired velocity is compared with the current estimate of the velocity. This difference (error) in velocity is multiplied with the derivative gain to obtain the second half of the information used to calculate the duty cycle that is then applied to the actuator.</p>
<p>Further, this function adds the time elapsed from start_time to the time queue and the actuator position read from the sensor to the position queue. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interval</td><td>-&gt; An integer representing the interval in milliseconds between the task calls to this run() function. </td></tr>
    <tr><td class="paramname">start_time</td><td>-&gt; A utime.ticks_ms() object representing the starting time of the current feedback loop. To be used for time data associated with the current position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value sent to the actuator throught the actuate function inputted to the constructor of this class. </dd></dl>

</div>
</div>
<a id="a7201e86cbe8bdd5752adf6d6e17e767c" name="a7201e86cbe8bdd5752adf6d6e17e767c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7201e86cbe8bdd5752adf6d6e17e767c">&#9670;&#160;</a></span>set_data_points()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.set_data_points </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>num_data_points</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the queue length variable to to the number of data points desired in each queue. </p>
<p>This is essentially the same thing as the queues will only hold queue_length number of data points. Then resets the queues with this length. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_data_points</td><td>-&gt; An integer representing the number of data points the queues should hold. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a2754f5c0738d5c57c278c359a795c26b" name="a2754f5c0738d5c57c278c359a795c26b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2754f5c0738d5c57c278c359a795c26b">&#9670;&#160;</a></span>set_Kd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.set_Kd </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Kd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the derivative gain, Kd, to the input value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kd</td><td>-&gt; The value to set the derivative gain to. This value should be a number (i.e. float or integer). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a9dbd17b1449d97ef4bbf8ce85d582798" name="a9dbd17b1449d97ef4bbf8ce85d582798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dbd17b1449d97ef4bbf8ce85d582798">&#9670;&#160;</a></span>set_Kp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.set_Kp </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Kp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the position gain, Kp, to the desired value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>-&gt; the value to set the position gain to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a5048f2b10b00546c953ccc13717cfa47" name="a5048f2b10b00546c953ccc13717cfa47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5048f2b10b00546c953ccc13717cfa47">&#9670;&#160;</a></span>set_setpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.set_setpoint </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>setpoint</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the setpoint to the input value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setpoint</td><td>-&gt; the value to set the setpoint to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a7ca45d2020055f58d458d99b5ea54d18" name="a7ca45d2020055f58d458d99b5ea54d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ca45d2020055f58d458d99b5ea54d18">&#9670;&#160;</a></span>set_setvel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proportional_controller.ProportionalController.set_setvel </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>setvel</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the desired velocity to the input value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setvel</td><td>-&gt; the value to set the setpoint to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="proportional__controller_8py.html">proportional_controller.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>proportional_controller</b></li><li class="navelem"><a class="el" href="classproportional__controller_1_1_proportional_controller.html">ProportionalController</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
